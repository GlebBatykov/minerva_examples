<div align="center">

**Языки:**
  
[![English](https://img.shields.io/badge/Language-English-blue?style=?style=flat-square)](README.md)
[![Russian](https://img.shields.io/badge/Language-Russian-blue?style=?style=flat-square)](README.ru.md)

</div>

Это пример использования фреймворка [Minerva](https://github.com/GlebBatykov/minerva).

Данный пример содержит два `Minerva` приложения:

- `gateway`. Пример реализации `geteway` сервиса, который использует `JWT` аутентефикацию, переадресацию запросов в соответствии с уровнем доступа пользователя;
- `calculator_service`. Простой демонстрационный сервис, который реализует 4 конечных точки для сложения, вычитания, деления и умножения чисел.

Приложение `calculator_service` содержит следующие конечные точки:

- метод: `POST`, путь: `/add`. Конечная точка для сложения чисел;
- метод: `POST`, путь: `/minus`. Конечная точка для вычитания чисел;
- метод: `POST`, путь: `/divide`. Конечная точка для деления чисел;
- метод: `POST`, путь: `/multiply`. Конечно точка для умножения чисел.

Приложение `geteway` содержит следующие конечные точки:

- метод: `POST`, путь: `/auth`. Получение `JWT` токена. В данном примере, в демонстрационных целях в самом запросе мы передаем имя пользователя, роль, а так же уровень доступа которые будут записанны в `JWT` токен.

Приложение `gateway` для переадресации входящих запросов использует `RedirectionMiddleware`.

Содержит следующие перенаправления:

- метод: `POST`, путь: `/add`, доступ: все. Перенаправляет на идентичную конечную точку `calculator_service` приложения;
- метод: `POST`, путь: `/minus`, доступ: только пользователи с ролью `User`. Перенаправляет на идентичную конечную точку `calculator_service` приложения;
- метод: `POST`, путь: `/divide`, доступ: только пользователи с ролью `Admin`. Перенаправляет на идентичную конечную точку `calculator_service` приложения;
- метод: `POST`, путь: `/multiply`, доступ: пользователи с уровнем доступа 2 и выше. Перенаправляет на идентичную конечную точку `calculator_service` приложения.

Использование параметра `instance` класса `MinervaSetting` позволяет нам задать количество экземпляров сервера которые будут запущены. Мы указали значение параметра `instance` как `Platform.numberOfProcessors` из библиотеки `dart:io`. Это означает что количество экземпляров сервера будет равно количеству доступных потоков нашего процессора.
